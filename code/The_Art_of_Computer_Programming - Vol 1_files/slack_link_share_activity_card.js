define(["require","exports","tslib","react","modules/core/i18n","modules/core/browser","modules/clean/logging/hive/schemas/web-ecosystem_integration_events","modules/clean/logging/telemetry","modules/clean/react/file_activity_stream/file_activity_stream_card","modules/clean/react/file_activity_stream/thirdparty_activity_clickable_text","modules/clean/react/file_activity_stream/utils","modules/clean/react/file_sidebar/store/file_activity/types","modules/clean/static_urls","modules/core/uri","modules/clean/react/file_activity_stream/utils"],(function(e,t,a,n,i,r,s,l,o,c,g,d,_,m,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importStar(r),l=a.__importStar(l);var f=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onDeepLinkClick=function(e){return function(){var a=m.URI.parse(t.props.activity.slack_deep_link);a.getAuthority().endsWith(".slack.com")&&((new l.HiveLogger).log(new s.EcosystemIntegrationLoggingTableRow({event_name:s.EventName.cardClicked,integration_name:s.ThirdPartyName.slack,extra:{card_type:e}})),r.unsafe_open_tab(a))}},t.onConnectLinkClick=function(){(new l.HiveLogger).log(new s.EcosystemIntegrationLoggingTableRow({event_name:s.EventName.cardClicked,integration_name:s.ThirdPartyName.slack,extra:{card_type:d.SlackConversationType.redacted_viewer_not_slack_connected}})),u.thirdPartyActivityShowAppStoreModal(t.props.viewingUser)},t}return a.__extends(t,e),Object.defineProperty(t.prototype,"message",{get:function(){var e=this,t=this.props.activity,r=g.isViewingUser(this.props),s={strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)},actor_name:t.user.display_name};switch(t.slack_conversation_type){case d.SlackConversationType.redacted_viewer_not_slack_connected:var l=a.__assign({ClickableText:function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return n.default.createElement(c.ClickableText,{hoverText:i.intl.formatMessage({id:"asg4OH",defaultMessage:"Connect with Slack"}),clickHandler:e.onConnectLinkClick},t)}},s);return r?i.intl.formatMessage({id:"2Ifi1r",defaultMessage:"<strong>You</strong> shared this file in <strong><ClickableText>Slack</ClickableText></strong>"},l):i.intl.formatMessage({id:"KPjgco",defaultMessage:"<strong>{actor_name}</strong> shared this file in <strong><ClickableText>Slack</ClickableText></strong>"},l);case d.SlackConversationType.redacted_viewer_not_in_conversation:return r?i.intl.formatMessage({id:"moPhW/",defaultMessage:"<strong>You</strong> shared this file in Slack"},s):i.intl.formatMessage({id:"VacdFW",defaultMessage:"<strong>{actor_name}</strong> shared this file in Slack"},s);case d.SlackConversationType.channel:l=a.__assign({ClickableText:function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return n.default.createElement(c.ClickableText,{hoverText:i.intl.formatMessage({id:"TxpyMM",defaultMessage:"View in Slack"}),clickHandler:e.onDeepLinkClick(d.SlackConversationType.channel)},t)},slack_conversation_name:t.slack_conversation_name},s);return r?i.intl.formatMessage({id:"29Dcc3",defaultMessage:"<strong>You</strong> shared this file in <strong><ClickableText>{slack_conversation_name}</ClickableText></strong>"},l):i.intl.formatMessage({id:"ZTM8N3",defaultMessage:"<strong>{actor_name}</strong> shared this file in <strong><ClickableText>{slack_conversation_name}</ClickableText></strong>"},l);case d.SlackConversationType.dm_multiperson:l=a.__assign({ClickableText:function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return n.default.createElement(c.ClickableText,{hoverText:i.intl.formatMessage({id:"TxpyMM",defaultMessage:"View in Slack"}),clickHandler:e.onDeepLinkClick(d.SlackConversationType.dm_multiperson)},t)}},s);return r?i.intl.formatMessage({id:"2Ifi1r",defaultMessage:"<strong>You</strong> shared this file in <strong><ClickableText>Slack</ClickableText></strong>"},l):i.intl.formatMessage({id:"KPjgco",defaultMessage:"<strong>{actor_name}</strong> shared this file in <strong><ClickableText>Slack</ClickableText></strong>"},l);case d.SlackConversationType.dm_to_someone_other_than_viewer:l=a.__assign({ClickableText:function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return n.default.createElement(c.ClickableText,{hoverText:i.intl.formatMessage({id:"TxpyMM",defaultMessage:"View in Slack"}),clickHandler:e.onDeepLinkClick(d.SlackConversationType.dm_to_someone_other_than_viewer)},t)},slack_recipient_name:t.slack_conversation_name},s);return r?i.intl.formatMessage({id:"/Ijta3",defaultMessage:"<strong>You</strong> shared this file with <strong><ClickableText>{slack_recipient_name}</ClickableText></strong>"},l):i.intl.formatMessage({id:"tYw/vF",defaultMessage:"<strong>{actor_name}</strong> shared this file with <strong><ClickableText>{slack_recipient_name}</ClickableText></strong>"},l);case d.SlackConversationType.dm_to_viewer:l=a.__assign({ClickableText:function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return n.default.createElement(c.ClickableText,{hoverText:i.intl.formatMessage({id:"TxpyMM",defaultMessage:"View in Slack"}),clickHandler:e.onDeepLinkClick(d.SlackConversationType.dm_to_viewer)},t)}},s);return r?i.intl.formatMessage({id:"3OZgJG",defaultMessage:"<strong>You</strong> shared this file with <strong><ClickableText>yourself</ClickableText></strong>"},l):i.intl.formatMessage({id:"+5Ta6t",defaultMessage:"<strong>{actor_name}</strong> shared this file with <strong><ClickableText>you</ClickableText></strong>"},l);default:return null}},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.activity,t={logoUrl:_.static_url("/static/images/thirdparty/slack_icon-vflKvKltK.svg"),localizedName:i.intl.formatMessage({id:"Qws4v2",defaultMessage:"Slack"})};return n.default.createElement(o.FileActivityStreamCard,{message:this.message,timestamp:e.timestamp,user:e.user,className:"file_add_activity_stream_card",thirdPartyData:t})},t})(n.default.Component);t.SlackLinkShareActivityCard=f}));
//# sourceMappingURL=slack_link_share_activity_card.min.js-vflVw0BfZ.map